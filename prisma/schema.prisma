generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model bedwars_stats {
  id                  BigInt   @id @default(autoincrement())
  main_table_username String   @db.VarChar
  level               Int
  experience          Int
  coins               Int
  elo                 Int
  kills               Int
  deaths              Int
  final_kills         Int
  final_deaths        Int
  wins                Int
  losses              Int
  beds_broken         Int
  winstreak           Int
  highest_winstreak   Int
  created_at          DateTime @default(now()) @db.Timestamptz(6)
  updated_at          DateTime @default(now()) @db.Timestamptz(6)
  players             players  @relation(fields: [main_table_username], references: [username], onDelete: Cascade, onUpdate: NoAction)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model players {
  username      String          @id @db.VarChar
  display_name  String?         @db.VarChar
  rank          String?         @db.VarChar
  clan          String?         @db.VarChar
  skin_url      String?         @db.VarChar
  skin_is_slim  Boolean?
  created_at    DateTime        @default(now()) @db.Timestamptz(6)
  updated_at    DateTime        @default(now()) @db.Timestamptz(6)
  bedwars_stats bedwars_stats[]
}
